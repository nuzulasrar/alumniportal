{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\foot_\\\\Documents\\\\GitHub\\\\alumniportal\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{Component,useState}from\"react\";import axios from\"axios\";import{Navigate,Link}from\"react-router-dom\";import{useEffect}from\"react/cjs/react.development\";import Swal from'sweetalert2';import withReactContent from'sweetalert2-react-content';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var MySwal=withReactContent(Swal);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),redirect=_useState6[0],setRedirect=_useState6[1];var handleSubmit=function handleSubmit(event){event.preventDefault();// alert(`The name you entered was: ${username} and ${password}`);\naxios.post(\"https://smarthelpersystem.ucyp.edu.my/alumniportal/public/api/login2\",{username:username,password:password}).then(function(response){if(response.data.status==200){//   alert(response.data.session);\nsessionStorage.setItem(\"session\",response.data.idalumnidata);sessionStorage.setItem(\"idpangkat\",response.data.idpangkat);var sessiondata=sessionStorage.getItem(\"session\");console.log(\"session sekarang adalah: \"+sessiondata);//   window.location.href =\n//     \"/dashboard?idalumni=\" + response.data.idalumnidata;\nsetRedirect(true);}else{Swal.fire({icon:'error',title:'Oops...',text:'Username or password incorrect!',footer:'<a href=\"register\">Have you registered an account?</a>'});}});};if(redirect==true){// return <Navigate replace to=\"/login\" />;\n// window.location.href = \"/edit-student/1\";\nreturn/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/dashboard\"});}//   useEffect(() => {\n//     const fnredirect = () => {\n//       //   window.location.href = \"/dashboard\";\n//     };\n//     if (redirect) fnredirect();\n//   }, [redirect]);\nreturn/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(\"div\",{class:\"container\",children:/*#__PURE__*/_jsx(\"section\",{class:\"section register min-vh-100 d-flex flex-column align-items-center justify-content-center py-4\",children:/*#__PURE__*/_jsx(\"div\",{class:\"container\",children:/*#__PURE__*/_jsx(\"div\",{class:\"row justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"col-lg-4 col-md-6 d-flex flex-column align-items-center justify-content-center\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-center py-4\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"logo d-flex align-items-center w-auto\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://ekiba.ucyp.edu.my/images/kyplogo.png\",alt:\"\"}),/*#__PURE__*/_jsx(\"span\",{class:\"d-none d-lg-block\",children:\"Alumni Portal\"})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"card mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"pt-4 pb-2\",children:[/*#__PURE__*/_jsx(\"h5\",{class:\"card-title text-center pb-0 fs-4\",children:\"Login.\"}),/*#__PURE__*/_jsx(\"p\",{class:\"text-center small\",children:\"Enter username and password to login.\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,class:\"row g-3 needs-validation\",novalidate:true,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"yourUsername\",class:\"form-label\",children:\"Username\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-group has-validation\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"input-group-text\",id:\"inputGroupPrepend\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",class:\"form-control\",id:\"yourUsername\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"div\",{class:\"invalid-feedback\",children:\"Please enter your username.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"yourPassword\",class:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-group has-validation\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"input-group-text\",id:\"inputGroupPrepend\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lock\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",class:\"form-control\",id:\"yourPassword\"// onChange={this.handleInput}\n// value={this.state.password}\n,value:password,onChange:function onChange(e){return setPassword(e.target.value);},required:true})]}),/*#__PURE__*/_jsx(\"div\",{class:\"invalid-feedback\",children:\"Please enter your password!\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"col-12\",children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-danger w-100\",type:\"submit\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-12\",children:/*#__PURE__*/_jsxs(\"p\",{class:\"small mb-0\",children:[\"Don't have account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})]})})]})]})})]})})})})})});};export default Login;","map":{"version":3,"sources":["C:/Users/foot_/Documents/GitHub/alumniportal/src/pages/Login.js"],"names":["React","Component","useState","axios","Navigate","Link","useEffect","Swal","withReactContent","Login","MySwal","username","setUsername","password","setPassword","redirect","setRedirect","handleSubmit","event","preventDefault","post","then","response","data","status","sessionStorage","setItem","idalumnidata","idpangkat","sessiondata","getItem","console","log","fire","icon","title","text","footer","e","target","value"],"mappings":"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","sourcesContent":["import React, { Component, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Navigate, Link } from \"react-router-dom\";\r\nimport { useEffect } from \"react/cjs/react.development\";\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\n\r\nconst Login = () => {\r\n\r\n  const MySwal = withReactContent(Swal)\r\n\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const [redirect, setRedirect] = useState(false);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    // alert(`The name you entered was: ${username} and ${password}`);\r\n    axios\r\n      .post(\"https://smarthelpersystem.ucyp.edu.my/alumniportal/public/api/login2\", {\r\n        username: username,\r\n        password: password,\r\n      })\r\n      .then((response) => {\r\n        if (response.data.status == 200) {\r\n          //   alert(response.data.session);\r\n\r\n          sessionStorage.setItem(\"session\", response.data.idalumnidata);\r\n          sessionStorage.setItem(\"idpangkat\", response.data.idpangkat);\r\n          let sessiondata = sessionStorage.getItem(\"session\");\r\n          console.log(\"session sekarang adalah: \" + sessiondata);\r\n\r\n          //   window.location.href =\r\n          //     \"/dashboard?idalumni=\" + response.data.idalumnidata;\r\n          setRedirect(true);\r\n        } else {\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Oops...',\r\n            text: 'Username or password incorrect!',\r\n            footer: '<a href=\"register\">Have you registered an account?</a>'\r\n          })\r\n        }\r\n      });\r\n  };\r\n\r\n  if (redirect == true) {\r\n    // return <Navigate replace to=\"/login\" />;\r\n    // window.location.href = \"/edit-student/1\";\r\n    return <Navigate replace to=\"/dashboard\" />;\r\n  }\r\n\r\n  //   useEffect(() => {\r\n  //     const fnredirect = () => {\r\n  //       //   window.location.href = \"/dashboard\";\r\n  //     };\r\n\r\n  //     if (redirect) fnredirect();\r\n  //   }, [redirect]);\r\n\r\n  return (\r\n    <main>\r\n      <div class=\"container\">\r\n        <section class=\"section register min-vh-100 d-flex flex-column align-items-center justify-content-center py-4\">\r\n          <div class=\"container\">\r\n            <div class=\"row justify-content-center\">\r\n              <div class=\"col-lg-4 col-md-6 d-flex flex-column align-items-center justify-content-center\">\r\n                <div class=\"d-flex justify-content-center py-4\">\r\n                  <div class=\"logo d-flex align-items-center w-auto\">\r\n                    <img src=\"https://ekiba.ucyp.edu.my/images/kyplogo.png\" alt=\"\" />\r\n                    <span class=\"d-none d-lg-block\">Alumni Portal</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"card mb-3\">\r\n                  <div class=\"card-body\">\r\n                    <div class=\"pt-4 pb-2\">\r\n                      <h5 class=\"card-title text-center pb-0 fs-4\">Login.</h5>\r\n                      <p class=\"text-center small\">\r\n                        Enter username and password to login.\r\n                      </p>\r\n                    </div>\r\n\r\n                    <form\r\n                      onSubmit={handleSubmit}\r\n                      class=\"row g-3 needs-validation\"\r\n                      novalidate\r\n                    >\r\n                      <div class=\"col-12\">\r\n                        <label for=\"yourUsername\" class=\"form-label\">\r\n                          Username\r\n                        </label>\r\n                        <div class=\"input-group has-validation\">\r\n                          <span class=\"input-group-text\" id=\"inputGroupPrepend\">\r\n                            <i className=\"fas fa-user\"></i>\r\n                          </span>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"username\"\r\n                            class=\"form-control\"\r\n                            id=\"yourUsername\"\r\n                            value={username}\r\n                            onChange={(e) => setUsername(e.target.value)}\r\n                            required\r\n                          />\r\n                          <div class=\"invalid-feedback\">\r\n                            Please enter your username.\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"col-12\">\r\n                        <label for=\"yourPassword\" class=\"form-label\">\r\n                          Password\r\n                        </label>\r\n                        <div class=\"input-group has-validation\">\r\n                          <span class=\"input-group-text\" id=\"inputGroupPrepend\">\r\n                            <i className=\"fas fa-lock\"></i>\r\n                          </span>\r\n                          <input\r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            class=\"form-control\"\r\n                            id=\"yourPassword\"\r\n                            // onChange={this.handleInput}\r\n                            // value={this.state.password}\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            required\r\n                          />\r\n                        </div>\r\n                        <div class=\"invalid-feedback\">\r\n                          Please enter your password!\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-12\">\r\n                        <button class=\"btn btn-danger w-100\" type=\"submit\">\r\n                          Login\r\n                        </button>\r\n                      </div>\r\n                      <div class=\"col-12\">\r\n                        <p class=\"small mb-0\">\r\n                          Don't have account? <Link to={\"/register\"}>Register</Link>\r\n                        </p>\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}